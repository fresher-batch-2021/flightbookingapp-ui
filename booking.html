<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="booking.css">
    <script src="booking.js"></script>
    
</head>

<body>
    <header id="header"></header>
    

    <main>
        <br>
        <div class="depature_information">
            <h2>Departure Information</h2>
        </div>

        <h2 class="depature_date">Depature date:</h2>
        <h2 class="depature_date" id="depature_date"></h2>

        <div>
            <div class="fieldset_table">

                <form action="passenger_details.html">
                    <table class="depature_table">
                        <caption></caption>
                        <thead>
                            <tr>
                                <th id="#">Flight</th>
                                <th id="#">From</th>
                                <th id="#">To</th>
                                <th id="#">Price</th>
                                <th id="#">Booking</th>
                            </tr>
                        </thead>
                        <tbody id="task_table"></tbody>
                    </table>
                </form>
            </div>
        </div>
        <script>
            //user ID
            // let user = JSON.parse(localStorage.getItem('user'));
            // console.log(user);
            // document.querySelector("#username").innerHTML = user.username;
            
            //depature date
            let depatute_date = JSON.parse(localStorage.getItem('depature_date'));
            console.log(depatute_date);
            document.querySelector("#depature_date").innerHTML = depatute_date;

            //flight details
            let user_details = JSON.parse(localStorage.getItem('flight_details'));
            console.log(user_details);
            let content = "";
            //${task.name},${task.source},${task.startTime},${task.destination},${task.endTime},${task.price}
            for (task of user_details) {
                let button = "<button type='submit' onclick = 'bookNow('${task.name}',2,3,4,5,6)'> Book Now </button>";
                let breaks ="<br>" ;
                content = content + `<tr><td>${task.name}</td><td>${task.source+"-"+task.startTime}</td><td>${task.destination+"-"+task.endTime}</td><td>${task.price}</td><td><button type='submit' onclick = "bookNow('${task.name}','${task.source}','${task.startTime}','${task.destination}','${task.endTime}','${task.price}')"> Book Now </button></td></tr>`;
            }
            console.log(content);
            document.querySelector("#task_table").innerHTML = content;

            

        </script>


    </main>
    <script src="jquery.min.js"></script>
    <script src="header.js"></script>
</body>

</html>